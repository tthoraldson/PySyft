
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Configuring Privacy Budget on your Domain Server &#8212; PySyft  documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/blank.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/pysyft.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/logo.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../getting_started/index.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../api_reference/index.html">
  API reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../developer_guide/index.html">
  Contributor Guidelines
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../deployment/glossary.html">
  Glossary
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../resources/index.html">
  Resources
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../index.html">
  How-to Guides
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/OpenMined/PySyft" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/openminedorg" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pre-requisites-steps">
   üö® Pre-Requisites Steps
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overview-of-this-tutorial">
   üìí Overview of this tutorial
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-1-introduction-to-differential-privacy">
     Step 1: Introduction to Differential Privacy
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-scenario">
       A. Scenario
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#b-quick-definition-differential-privacy">
       B. Quick Definition: Differential Privacy
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#c-quick-definition-epsilon-or-privacy-budget">
       C. Quick Definition: Epsilon or Privacy Budget
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#d-takeaway">
       D. Takeaway
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-2-login-to-pygrid-ui-as-a-domain-admin">
     Step 2: Login to PyGrid UI as a Domain Admin
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-3-explore-different-privacy-budget">
     Step 3: Explore Different Privacy Budget
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-assign-data-scientist-account-with-0-5e-privacy-budget">
       A. Assign Data Scientist Account with 0.5e Privacy Budget
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#b-make-a-query-with-0-5e-privacy-budget-as-a-data-scientist">
       B. Make a Query With 0.5e Privacy Budget As a Data Scientist
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#c-make-a-query-with-7-5e-privacy-budget-as-a-data-scientist">
       C. Make a Query With 7.5e Privacy Budget As a Data Scientist
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#d-make-a-query-with-10e-privacy-budget-as-a-data-scientist">
       D. Make a Query With 10e Privacy Budget As a Data Scientist
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#congratulations-you-have-learned-to-configure-your-privacy-budget-on-your-domain-server">
   Congratulations üëè You have learned to configure your Privacy Budget on your Domain Server!!
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="configuring-privacy-budget-on-your-domain-server">
<h1>Configuring Privacy Budget on your Domain Server<a class="headerlink" href="#configuring-privacy-budget-on-your-domain-server" title="Permalink to this headline">¬∂</a></h1>
<p><strong>Data Owner Tutorials</strong></p>
<p>‚òëÔ∏è 00-deploy-domain</p>
<p>‚òëÔ∏è 01-upload-data</p>
<p>‚òëÔ∏è 02-create-account</p>
<p>‚òëÔ∏è 03-join-network</p>
<p>‚óªÔ∏è 04-configure-pbüëà</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>TIP:</strong> To run this tutorial interactively in Jupyter Lab on your own machine type:</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">hagrid</span>
<span class="n">hagrid</span> <span class="n">quickstart</span> <span class="n">data</span><span class="o">-</span><span class="n">owner</span>
</pre></div>
</div>
<p>A privacy budget is a collection of quantitative measures through which a Data Owner can
pre-determine the degree of information access they grant to a user using their domain server.
For PyGrid, you can think of a privacy budget as a specified limit to the <code class="docutils literal notranslate"><span class="pre">visibility</span></code> a user
can have into any one data subject on your domain server.
As we saw in the <a class="reference internal" href="02-create-account-configure-pb.html"><span class="doc">creating user accounts tutorial</span></a>, when you
create a user account in PyGrid, by default that user is assigned the lowest level of <code class="docutils literal notranslate"><span class="pre">permissions</span></code>
and is given a privacy budget of <code class="docutils literal notranslate"><span class="pre">0</span></code> which means that they have <code class="docutils literal notranslate"><span class="pre">0</span></code> visibility into your domain‚Äôs data subjects.</p>
<p>In today‚Äôs tutorial, you will discover the underlying concept behind Differential Privacy and
how setting a privacy budget for a user determines how much can be learned from any data subject</p>
<section id="pre-requisites-steps">
<h2>üö® Pre-Requisites Steps<a class="headerlink" href="#pre-requisites-steps" title="Permalink to this headline">¬∂</a></h2>
<p>Before you can specify a privacy budget for your domain users, you must first <code class="docutils literal notranslate"><span class="pre">prepare</span></code> the dataset, <code class="docutils literal notranslate"><span class="pre">upload</span></code> it, and
<code class="docutils literal notranslate"><span class="pre">create</span></code> a user account for your team members or Data Scientists.
The prerequisite steps are covered in the previous
tutorial <a class="reference internal" href="02-create-account-configure-pb.html"><span class="doc">Creating User Accounts on your Domain Server</span></a> and
<span class="xref std std-ref">Uploading Private Data to a Domain Server</span>.
Please execute those steps before implementing this tutorial.</p>
</section>
<section id="overview-of-this-tutorial">
<h2>üìí Overview of this tutorial<a class="headerlink" href="#overview-of-this-tutorial" title="Permalink to this headline">¬∂</a></h2>
<ol class="arabic simple">
<li><p><strong>Introduction</strong> to Differential Privacy</p></li>
<li><p><strong>Login</strong> to PyGrid UI as a Domain Admin</p></li>
<li><p><strong>Explore</strong> different Privacy Budgets</p></li>
</ol>
<section id="step-1-introduction-to-differential-privacy">
<h3>Step 1: Introduction to Differential Privacy<a class="headerlink" href="#step-1-introduction-to-differential-privacy" title="Permalink to this headline">¬∂</a></h3>
<p>In this step, lets understand the concept behind differential privacy and privacy budget by considering a simple scenario.</p>
<section id="a-scenario">
<h4>A. Scenario<a class="headerlink" href="#a-scenario" title="Permalink to this headline">¬∂</a></h4>
<p>Consider there are <code class="docutils literal notranslate"><span class="pre">500</span></code> patients represented in <code class="docutils literal notranslate"><span class="pre">2</span></code> different datasets. One dataset is
about general <code class="docutils literal notranslate"><span class="pre">medical</span> <span class="pre">history</span></code>; the other has some but not all of the <code class="docutils literal notranslate"><span class="pre">500</span></code> patients
and is focused on patients who have had <code class="docutils literal notranslate"><span class="pre">mammography</span></code> images taken in the past year. Now
let‚Äôs say that <code class="docutils literal notranslate"><span class="pre">Jane</span> <span class="pre">Doe</span></code> is a patient in both and is open to being studied for
<code class="docutils literal notranslate"><span class="pre">breast</span> <span class="pre">cancer</span> <span class="pre">research</span></code> as long as she can remain unidentifiable in the study.</p>
</section>
<section id="b-quick-definition-differential-privacy">
<h4>B. Quick Definition: Differential Privacy<a class="headerlink" href="#b-quick-definition-differential-privacy" title="Permalink to this headline">¬∂</a></h4>
<p>A core feature of Syft is that Syft allows you to use a <code class="docutils literal notranslate"><span class="pre">PET(Privacy</span> <span class="pre">Enhancing</span> <span class="pre">technology)</span></code> called
Differential Privacy to protect the <code class="docutils literal notranslate"><span class="pre">Privacy</span></code> of the individuals or data subjects
within your datasets. In this case, Differential Privacy is maintained when a
query across both datasets <code class="docutils literal notranslate"><span class="pre">with</span></code> Jane Doe in it versus that same query on both
datasets <code class="docutils literal notranslate"><span class="pre">without</span></code> Jane Doe creates the <code class="docutils literal notranslate"><span class="pre">same</span> <span class="pre">output</span></code>. Noise is added to help average
out and make up the difference between having Jane there versus not. In other words, Jane Doe becomes a very
difficult, if not impossible, straw to find within the haystack.</p>
<p>From a top-level view, this means a couple of things:</p>
<ul class="simple">
<li><p>Differential Privacy can help a Data Scientist see trends in data <code class="docutils literal notranslate"><span class="pre">without</span></code> being able to <code class="docutils literal notranslate"><span class="pre">identify</span></code> the participants.</p></li>
<li><p>The more a specific data subject involved in the query <code class="docutils literal notranslate"><span class="pre">stands</span> <span class="pre">out</span></code> in a dataset, the more noise has to be added to <code class="docutils literal notranslate"><span class="pre">obfuscate</span></code> them.</p></li>
<li><p>There is a natural <code class="docutils literal notranslate"><span class="pre">tradeoff</span></code> between how much <code class="docutils literal notranslate"><span class="pre">Privacy</span></code> is preserved versus how much <code class="docutils literal notranslate"><span class="pre">Accuracy</span></code> is given to the Data Scientist..</p></li>
<li><p>You can set a privacy limit in PyGrid and trust that a Data Scientist will not be able to get answers to a query that surpasses that limit on any one <code class="docutils literal notranslate"><span class="pre">Data</span> <span class="pre">Subject</span></code>. (see the image üëá for reference)</p></li>
<li><p>Data scientists can download answers that remain within specified <code class="docutils literal notranslate"><span class="pre">privacy</span> <span class="pre">limits</span></code>, creating a streamlined flow where answering questions using an org‚Äôs Domain Server will be as easy as going to the organization‚Äôs public website. (see the image üëá for reference)</p></li>
</ul>
<p><a class="reference internal" href="../../_images/04-configure-pb-02.gif"><img alt="04-configure-pb-02" src="../../_images/04-configure-pb-02.gif" style="width: 95%;" /></a></p>
</section>
<section id="c-quick-definition-epsilon-or-privacy-budget">
<h4>C. Quick Definition: Epsilon or Privacy Budget<a class="headerlink" href="#c-quick-definition-epsilon-or-privacy-budget" title="Permalink to this headline">¬∂</a></h4>
<p>Differential Privacy in practice is an algorithm that obscures an individual data subject‚Äôs
contributions to the given <code class="docutils literal notranslate"><span class="pre">results</span></code> of a <code class="docutils literal notranslate"><span class="pre">query</span></code>. Privacy Budget measured in units of <code class="docutils literal notranslate"><span class="pre">Epsilon</span></code>
is a way to measure the potential <code class="docutils literal notranslate"><span class="pre">privacy</span> <span class="pre">loss</span></code> or <code class="docutils literal notranslate"><span class="pre">visibility</span></code> you are allowing into any one of those data subjects.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Syft specifically <code class="docutils literal notranslate"><span class="pre">tracks</span></code> privacy budgets against individual data subjects instead
of the <code class="docutils literal notranslate"><span class="pre">dataset</span></code> as a whole. This may be different from other tools that use
Differential Privacy. This allows more <code class="docutils literal notranslate"><span class="pre">utility</span></code> on the dataset.</p>
</div>
</section>
<section id="d-takeaway">
<h4>D. Takeaway<a class="headerlink" href="#d-takeaway" title="Permalink to this headline">¬∂</a></h4>
<p>When you assign a <code class="docutils literal notranslate"><span class="pre">privacy</span> <span class="pre">budget</span></code> in Syft, you specify a <code class="docutils literal notranslate"><span class="pre">risk</span> <span class="pre">tolerance</span></code> on what
level of <code class="docutils literal notranslate"><span class="pre">visibility</span></code> you feel comfortable having that Data Scientist have on your
data subjects. You are balancing this with keeping the <code class="docutils literal notranslate"><span class="pre">accuracy</span></code> they get on a
helpful level and maximizing the benefit of your dataset(s).</p>
<p>Let‚Äôs say, in the above scenario, you allow your <code class="docutils literal notranslate"><span class="pre">Data</span> <span class="pre">Scientist</span></code> to have <code class="docutils literal notranslate"><span class="pre">0.5e</span></code> to
conduct their Breast Cancer Research. You can interpret <code class="docutils literal notranslate"><span class="pre">e</span></code> to mean:</p>
<ul class="simple">
<li><p>That this Data Scientist will have <code class="docutils literal notranslate"><span class="pre">0.5x</span></code> more <code class="docutils literal notranslate"><span class="pre">visibility</span></code> into any one data subject like Jane Doe</p></li>
<li><p>That this Data Scientist is <code class="docutils literal notranslate"><span class="pre">0.5x</span></code> more likely to <code class="docutils literal notranslate"><span class="pre">learn</span></code> something unique about Jane Doe</p></li>
<li><p>That this Data Scientist can <code class="docutils literal notranslate"><span class="pre">learn</span> <span class="pre">no</span> <span class="pre">more</span> <span class="pre">than</span> <span class="pre">0.5e</span></code> on Jane Doe</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a query would expose more than <code class="docutils literal notranslate"><span class="pre">0.5e</span></code> about <code class="docutils literal notranslate"><span class="pre">Jane</span> <span class="pre">Doe</span></code>, then Jane Doe would get
dropped from the result, and noise would be used to mitigate the difference.</p>
</div>
</section>
</section>
<section id="step-2-login-to-pygrid-ui-as-a-domain-admin">
<h3>Step 2: Login to PyGrid UI as a Domain Admin<a class="headerlink" href="#step-2-login-to-pygrid-ui-as-a-domain-admin" title="Permalink to this headline">¬∂</a></h3>
<p>When we use the <code class="docutils literal notranslate"><span class="pre">hagrid</span> <span class="pre">launch</span></code> command to start our private data server, we define
the <code class="docutils literal notranslate"><span class="pre">port</span></code> where we want to launch the server.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, the port is launched at <code class="docutils literal notranslate"><span class="pre">8081</span></code>.</p>
</div>
<p><a class="reference internal" href="../../_images/04-configure-pb-00.png"><img alt="04-configure-pb-00" src="../../_images/04-configure-pb-00.png" style="width: 95%;" /></a></p>
<p>We will use this port number to visit the following UI interface at the <code class="docutils literal notranslate"><span class="pre">URL</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="o">&lt;</span><span class="n">port_number</span><span class="o">&gt;</span>

<span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span>

<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8081</span>
</pre></div>
</div>
<p><a class="reference internal" href="../../_images/04-configure-pb-01.png"><img alt="04-configure-pb-01" src="../../_images/04-configure-pb-01.png" style="width: 50%;" /></a></p>
<p>The default email and password for the domain are:</p>
<ul class="simple">
<li><p><strong>email:</strong> <a class="reference external" href="mailto:info&#37;&#52;&#48;openmined&#46;org">info<span>&#64;</span>openmined<span>&#46;</span>org</a></p></li>
<li><p><strong>password:</strong> changethis</p></li>
</ul>
<p>Once we‚Äôre logged in, you can move to the next section, which explores setting a privacy budget.</p>
</section>
<section id="step-3-explore-different-privacy-budget">
<h3>Step 3: Explore Different Privacy Budget<a class="headerlink" href="#step-3-explore-different-privacy-budget" title="Permalink to this headline">¬∂</a></h3>
<section id="a-assign-data-scientist-account-with-0-5e-privacy-budget">
<span id="step3a"></span><h4>A. Assign Data Scientist Account with 0.5e Privacy Budget<a class="headerlink" href="#a-assign-data-scientist-account-with-0-5e-privacy-budget" title="Permalink to this headline">¬∂</a></h4>
<p>When you create a user account on your domain server, the privacy budget assigned to the
user is <code class="docutils literal notranslate"><span class="pre">0e</span></code>, and the role assigned will be a data scientist by default.</p>
<p>Follow the steps in the image below to change the privacy budget of our data scientist to <code class="docutils literal notranslate"><span class="pre">0.5e</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>John Smith is a Data Scientist whose account we created for demonstration purposes
in the <a class="reference internal" href="02-create-account-configure-pb.html"><span class="doc">create user accounts tutorial</span></a>.</p>
</div>
<p><a class="reference internal" href="../../_images/04-configure-pb-03.gif"><img alt="04-configure-pb-03" src="../../_images/04-configure-pb-03.gif" style="width: 95%;" /></a></p>
</section>
<section id="b-make-a-query-with-0-5e-privacy-budget-as-a-data-scientist">
<h4>B. Make a Query With 0.5e Privacy Budget As a Data Scientist<a class="headerlink" href="#b-make-a-query-with-0-5e-privacy-budget-as-a-data-scientist" title="Permalink to this headline">¬∂</a></h4>
<p>After you have changed the privacy budget to <code class="docutils literal notranslate"><span class="pre">0.5e</span></code>, it‚Äôs time for Domain Owners to
wear the hat of a Data Scientist. Let‚Äôs make a <code class="docutils literal notranslate"><span class="pre">query</span></code> using 0.5e and then analyze the <code class="docutils literal notranslate"><span class="pre">results</span></code>
to compare how close the value of the results is to the actual value.</p>
<p>Firstly, we should <code class="docutils literal notranslate"><span class="pre">login</span></code> to the domain as a data scientist using the same credentials through which
we created a data scientist account in <a class="reference internal" href="02-create-account-configure-pb.html"><span class="doc">creating user accounts tutorial</span></a>.</p>
<p>The credentials to login as a Data Scientist are:</p>
<ul class="simple">
<li><p><strong>Email:</strong> <a class="reference external" href="mailto:janedoe&#37;&#52;&#48;email&#46;com">janedoe<span>&#64;</span>email<span>&#46;</span>com</a></p></li>
<li><p><strong>Password:</strong> supersecretpassword</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We will use the same <code class="docutils literal notranslate"><span class="pre">age</span> <span class="pre">dataset</span></code> defined in the previous tutorial to keep things simple.
So, before Data Scientists can make a <code class="docutils literal notranslate"><span class="pre">query</span></code>, Domain Owners have
to <span class="xref std std-ref">prepare the dataset and upload it to the Domain Servers</span>.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">:</span>

<span class="c1"># run this cell</span>
<span class="kn">import</span> <span class="nn">syft</span> <span class="k">as</span> <span class="nn">sy</span>

<span class="n">ds_domain_client</span> <span class="o">=</span> <span class="n">sy</span><span class="o">.</span><span class="n">login</span><span class="p">(</span>
   <span class="n">email</span><span class="o">=</span><span class="s2">&quot;janedoe@email.com&quot;</span><span class="p">,</span>
   <span class="n">password</span><span class="o">=</span><span class="s2">&quot;supersecretpassword&quot;</span><span class="p">,</span>
   <span class="n">port</span><span class="o">=</span><span class="mi">8081</span><span class="p">,</span>
   <span class="n">url</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Now, as a Data Scientist, you can <code class="docutils literal notranslate"><span class="pre">verify</span></code> the privacy budget using the below command ‚¨áÔ∏è</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">:</span>

<span class="c1"># run this cell</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Allotted PB: &quot;</span><span class="p">,</span> <span class="n">ds_domain_client</span><span class="o">.</span><span class="n">privacy_budget</span><span class="p">)</span>

<span class="n">Out</span><span class="p">:</span>

<span class="n">Allotted</span> <span class="n">PB</span><span class="p">:</span>  <span class="mf">0.5</span>
</pre></div>
</div>
<p>Let‚Äôs grab the age data from the domain and define a simple query to calculate the <code class="docutils literal notranslate"><span class="pre">mean</span> <span class="pre">age</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">:</span>

<span class="n">age_data</span> <span class="o">=</span> <span class="n">ds_domain_client</span><span class="o">.</span><span class="n">datasets</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;Age_Data&quot;</span><span class="p">]</span>
<span class="n">age_mean</span> <span class="o">=</span> <span class="n">age_data</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">age_mean_public</span> <span class="o">=</span> <span class="n">age_mean</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># Check if mean data exists</span>
<span class="n">age_mean_public</span><span class="o">.</span><span class="n">exists</span>

<span class="c1"># Download/Get mean age</span>
<span class="n">age_mean_public</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">delete_obj</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Remaining PB: &quot;</span><span class="p">,</span> <span class="n">ds_domain_client</span><span class="o">.</span><span class="n">privacy_budget</span><span class="p">)</span>

<span class="n">Out</span><span class="p">:</span>

<span class="n">Remaining</span> <span class="n">PB</span><span class="p">:</span> <span class="mf">0.000120578321</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Remember, sigma represents how much noise the user wants added to the result.
The noise is selected randomly from a Gaussian distribution with sigma as the
standard deviation and zero mean.</p>
</div>
<p>So the first thing we need to remember while setting <code class="docutils literal notranslate"><span class="pre">sigma</span></code> is that if we set a very low sigma
compared to the published value, it might not add enough noise, and the user would require a
large <code class="docutils literal notranslate"><span class="pre">privacy</span> <span class="pre">budget</span></code> to get the accurate result.</p>
<p>Now we want the noise to be picked randomly with a standard deviation of <code class="docutils literal notranslate"><span class="pre">20</span></code>.
Thus decreasing the value of <code class="docutils literal notranslate"><span class="pre">sigma</span></code> will result in more accurate results but at
the expense of a more privacy budget being spent and leaking more information
about private data.</p>
<p><strong>Example:</strong> Let‚Äôs assume the value being published is <code class="docutils literal notranslate"><span class="pre">100000</span></code>, then adding a slight noise of <code class="docutils literal notranslate"><span class="pre">20</span></code>
will result in <code class="docutils literal notranslate"><span class="pre">100020</span></code>, which isn‚Äôt significant noise comparatively and thus would require a large
budget to be spent. Similarly, if the value being published is <code class="docutils literal notranslate"><span class="pre">0.1</span></code> and you add noise of <code class="docutils literal notranslate"><span class="pre">20</span></code>, then
the result value is <code class="docutils literal notranslate"><span class="pre">20.1</span></code> which is way off from the actual result and thus affects the accuracy of
the result, although having spent low PB.</p>
</section>
<section id="c-make-a-query-with-7-5e-privacy-budget-as-a-data-scientist">
<h4>C. Make a Query With 7.5e Privacy Budget As a Data Scientist<a class="headerlink" href="#c-make-a-query-with-7-5e-privacy-budget-as-a-data-scientist" title="Permalink to this headline">¬∂</a></h4>
<p>The privacy budget is cumulative and doesn‚Äôt represent the actual spent value. Once something is
known, you can‚Äôt remove that knowledge. Let us <code class="docutils literal notranslate"><span class="pre">increase</span></code> the <code class="docutils literal notranslate"><span class="pre">privacy</span> <span class="pre">budget</span></code> and perform again with
the same query as above and compare the accuracy of the result and the privacy budget spent.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You need to go to <a class="reference internal" href="#step3a"><span class="std std-ref">Step 3.A</span></a> and change the privacy budget to <code class="docutils literal notranslate"><span class="pre">7.5e</span></code> this time, as shown in the image.</p>
</div>
<p>After you have changed the privacy budget to <code class="docutils literal notranslate"><span class="pre">7.5e</span></code>, we will again make a <code class="docutils literal notranslate"><span class="pre">query</span></code> and then <code class="docutils literal notranslate"><span class="pre">analyze</span></code> the results.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">:</span>

<span class="kn">import</span> <span class="nn">syft</span> <span class="k">as</span> <span class="nn">sy</span>

<span class="n">ds_domain_client</span> <span class="o">=</span> <span class="n">sy</span><span class="o">.</span><span class="n">login</span><span class="p">(</span>
   <span class="n">email</span><span class="o">=</span><span class="s2">&quot;janedoe@email.com&quot;</span><span class="p">,</span>
   <span class="n">password</span><span class="o">=</span><span class="s2">&quot;supersecretpassword&quot;</span><span class="p">,</span>
   <span class="n">port</span><span class="o">=</span><span class="mi">8081</span><span class="p">,</span>
   <span class="n">url</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Allotted PB: &quot;</span><span class="p">,</span> <span class="n">ds_domain_client</span><span class="o">.</span><span class="n">privacy_budget</span><span class="p">)</span>

<span class="n">age_data</span> <span class="o">=</span> <span class="n">ds_domain_client</span><span class="o">.</span><span class="n">datasets</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;Age_Data&quot;</span><span class="p">]</span>
<span class="n">age_mean</span> <span class="o">=</span> <span class="n">age_data</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">age_mean_public</span> <span class="o">=</span> <span class="n">age_mean</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># Check if mean data exists</span>
<span class="n">age_mean_public</span><span class="o">.</span><span class="n">exists</span>

<span class="c1"># Download/Get mean age</span>
<span class="n">age_mean_public</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">delete_obj</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Remaining PB: &quot;</span><span class="p">,</span> <span class="n">ds_domain_client</span><span class="o">.</span><span class="n">privacy_budget</span><span class="p">)</span>

<span class="n">Out</span><span class="p">:</span>

<span class="n">Allotted</span> <span class="n">PB</span><span class="p">:</span> <span class="mf">7.5</span>
<span class="n">Remaining</span> <span class="n">PB</span><span class="p">:</span> <span class="mf">1.0740261245118496</span>
</pre></div>
</div>
<p>Now, if you try to view the variable <cite>age_mean</cite> in a new cell, you will notice three things about this pointer:</p>
<ol class="arabic simple">
<li><p><strong>PointerID:</strong> ID of the pointer</p></li>
<li><p><strong>Status [Ready/ Processing]:</strong> Tells if the results to the pointer have been calculated or not on the server side</p></li>
<li><p><strong>Representation:</strong> This shows synthetic data/ values that the pointer could represent.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">:</span>

<span class="nb">print</span><span class="p">(</span><span class="n">age_mean</span><span class="p">)</span>

<span class="n">Out</span><span class="p">:</span>

<span class="n">PointerId</span><span class="p">:</span> <span class="n">da75693b1fd0439ab0a623dd183ff8ce</span>
<span class="n">Status</span><span class="p">:</span> <span class="n">Ready</span>
<span class="n">Representation</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="mf">64.31603086</span><span class="p">])</span>

<span class="p">(</span><span class="n">The</span> <span class="n">data</span> <span class="n">printed</span> <span class="n">above</span> <span class="ow">is</span> <span class="n">synthetic</span> <span class="o">-</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">imitation</span> <span class="n">of</span> <span class="n">the</span> <span class="n">real</span> <span class="n">data</span><span class="o">.</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="d-make-a-query-with-10e-privacy-budget-as-a-data-scientist">
<h4>D. Make a Query With 10e Privacy Budget As a Data Scientist<a class="headerlink" href="#d-make-a-query-with-10e-privacy-budget-as-a-data-scientist" title="Permalink to this headline">¬∂</a></h4>
<p>For the last time, let us change the value of the <code class="docutils literal notranslate"><span class="pre">privacy</span> <span class="pre">budget</span></code> to <code class="docutils literal notranslate"><span class="pre">10e</span></code>, perform again with the
same query as above, and compare the accuracy of the result and the privacy budget spent.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You need to go to <a class="reference internal" href="#step3a"><span class="std std-ref">Step 3.A</span></a> and change the privacy budget to <code class="docutils literal notranslate"><span class="pre">10e</span></code> this time, as shown in the image.</p>
</div>
<p>After you have changed the privacy budget to <code class="docutils literal notranslate"><span class="pre">10e</span></code>, we will again make a <code class="docutils literal notranslate"><span class="pre">query</span></code> and then <code class="docutils literal notranslate"><span class="pre">analyze</span></code> the results.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">:</span>

<span class="kn">import</span> <span class="nn">syft</span> <span class="k">as</span> <span class="nn">sy</span>

<span class="n">ds_domain_client</span> <span class="o">=</span> <span class="n">sy</span><span class="o">.</span><span class="n">login</span><span class="p">(</span>
   <span class="n">email</span><span class="o">=</span><span class="s2">&quot;janedoe@email.com&quot;</span><span class="p">,</span>
   <span class="n">password</span><span class="o">=</span><span class="s2">&quot;supersecretpassword&quot;</span><span class="p">,</span>
   <span class="n">port</span><span class="o">=</span><span class="mi">8081</span><span class="p">,</span>
   <span class="n">url</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Allotted PB: &quot;</span><span class="p">,</span> <span class="n">ds_domain_client</span><span class="o">.</span><span class="n">privacy_budget</span><span class="p">)</span>

<span class="n">age_data</span> <span class="o">=</span> <span class="n">ds_domain_client</span><span class="o">.</span><span class="n">datasets</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;Age_Data&quot;</span><span class="p">]</span>
<span class="n">age_mean</span> <span class="o">=</span> <span class="n">age_data</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">age_mean_public</span> <span class="o">=</span> <span class="n">age_mean</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># Check if mean data exists</span>
<span class="n">age_mean_public</span><span class="o">.</span><span class="n">exists</span>

<span class="c1"># Download/Get mean age</span>
<span class="n">age_mean_public</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">delete_obj</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Remaining PB: &quot;</span><span class="p">,</span> <span class="n">ds_domain_client</span><span class="o">.</span><span class="n">privacy_budget</span><span class="p">)</span>

<span class="n">Out</span><span class="p">:</span>

<span class="n">Allocated</span> <span class="n">PB</span><span class="p">:</span> <span class="mf">10.0</span>
<span class="n">Remaining</span> <span class="n">PB</span><span class="p">:</span> <span class="mf">3.5740261245118496</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="congratulations-you-have-learned-to-configure-your-privacy-budget-on-your-domain-server">
<h2>Congratulations üëè You have learned to configure your Privacy Budget on your Domain Server!!<a class="headerlink" href="#congratulations-you-have-learned-to-configure-your-privacy-budget-on-your-domain-server" title="Permalink to this headline">¬∂</a></h2>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, Openmined Community.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>