
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Uploading Private Data to a Domain Server &#8212; PySyft  documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/blank.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/pysyft.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/logo.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../getting_started/index.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../api_reference/index.html">
  API reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../developer_guide/index.html">
  Contributor Guidelines
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../deployment/glossary.html">
  Glossary
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../resources/index.html">
  Resources
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../index.html">
  How-to Guides
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/OpenMined/PySyft" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/openminedorg" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-to-upload-private-data">
   Step to Upload Private Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-1-import-syft">
     Step 1: Import Syft
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-2-log-into-domain">
     Step 2: Log into Domain
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-3-prepare-dataset">
     Step 3: Prepare Dataset
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-4-annotate-data-for-automatic-dp">
     Step 4: Annotate Data for Automatic DP
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#important-steps">
       Important steps:
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-5-upload-the-dataset">
     Step 5: Upload the Dataset
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-6-check-the-dataset">
     Step 6: Check the Dataset
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#awesome-you-have-uploaded-the-dataset-onto-your-domain-server">
     Awesome üëè !! You have uploaded the dataset onto your Domain Server!
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#whats-next">
   What‚Äôs Next?
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="uploading-private-data-to-a-domain-server">
<h1>Uploading Private Data to a Domain Server<a class="headerlink" href="#uploading-private-data-to-a-domain-server" title="Permalink to this headline">¬∂</a></h1>
<p><strong>Data Owner Tutorials</strong></p>
<p>‚òëÔ∏è 00-deploy-domain</p>
<p>‚óªÔ∏è 01-upload-dataüëà</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>TIP:</strong> To run this tutorial interactively in Jupyter Lab on your own machine type:</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">hagrid</span>
<span class="n">hagrid</span> <span class="n">quickstart</span> <span class="n">data</span><span class="o">-</span><span class="n">owner</span>
</pre></div>
</div>
<p>Welcome back to another Data Owner tutorial. In the last tutorial,
you learned <a class="reference internal" href="00-deploy-domain.html"><span class="doc">How to Deploy a Domain Server</span></a> that represents
your organization‚Äôs private data servers. But right now,
the node you just deployed is empty.</p>
<p>After today‚Äôs tutorial, you will learn how to <code class="docutils literal notranslate"><span class="pre">upload</span> <span class="pre">data</span></code> to your new
<code class="docutils literal notranslate"><span class="pre">domain</span> <span class="pre">node</span></code>, which involves annotating and doing ETL before
uploading it to our Domain Node/server.</p>
<blockquote>
<div><p><strong>Note:</strong> Throughout the tutorials, we also mean Domain Servers
whenever we refer to Domain Node. Both mean the same and are used
interchangeably.</p>
</div></blockquote>
<section id="step-to-upload-private-data">
<h2>Step to Upload Private Data<a class="headerlink" href="#step-to-upload-private-data" title="Permalink to this headline">¬∂</a></h2>
<p>üìí Overview of this tutorial:</p>
<ol class="arabic simple">
<li><p><strong>Preprocessing</strong> of Data</p></li>
<li><p><strong>Marking</strong> it with correct metadata</p></li>
<li><p><strong>Uploading</strong> data to Domain Server</p></li>
</ol>
<p><a class="reference internal" href="../../_images/01-upload-data-00.jpg"><img alt="01-upload-data-00" src="../../_images/01-upload-data-00.jpg" style="width: 95%;" /></a></p>
<section id="step-1-import-syft">
<h3>Step 1: Import Syft<a class="headerlink" href="#step-1-import-syft" title="Permalink to this headline">¬∂</a></h3>
<p>To utilize the privacy-enhancing features offered in PyGrid and to
communicate with your domain node, you must first <code class="docutils literal notranslate"><span class="pre">import</span></code> OpenMined‚Äôs
<code class="docutils literal notranslate"><span class="pre">private</span></code> deep learning library: PySyft.</p>
<p>Lets import Syft by running the below cell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">:</span>

<span class="c1"># run this cell</span>
<span class="k">try</span><span class="p">:</span>
   <span class="kn">import</span> <span class="nn">syft</span> <span class="k">as</span> <span class="nn">sy</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Syft is imported&quot;</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Syft is not installed. Please use the üßôüèΩ‚Äç‚ôÇÔ∏è Install Wizard above.&quot;</span><span class="p">)</span>

<span class="n">Out</span><span class="p">:</span> <span class="n">Syft</span> <span class="ow">is</span> <span class="n">imported</span>
</pre></div>
</div>
</section>
<section id="step-2-log-into-domain">
<span id="step2"></span><h3>Step 2: Log into Domain<a class="headerlink" href="#step-2-log-into-domain" title="Permalink to this headline">¬∂</a></h3>
<p>By default, only the Domain node <code class="docutils literal notranslate"><span class="pre">Admin</span></code> can upload data,
so to upload your data, you will need to first login as the admin.
(<em>Upload data permissions can be customized after logging into the domain node.</em>)</p>
<p>To login to your Domain node, you will need to define which Domain you are logging into and who you are. In this case, it will take the form of:</p>
<ul>
<li><p>IP Address of the domain host</p></li>
<li><p>Your user account Email and Password</p>
<blockquote>
<div><p><strong>WARNING:</strong> Change the default username and password below to a more secure and private combination of your preference.</p>
</div></blockquote>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>In:

# run this cell
try:
   domain_client = sy.login(
      port=8081,
      email=&quot;info@openmined.org&quot;,
      password=&quot;changethis&quot;
   )
except Exception as e:
   print(&quot;Unable to login. Please check your domain is up with `!hagrid check localhost:8081`&quot;)

Out:

Connecting to 20.253.155.183... done! Logging into openmined... done!
</pre></div>
</div>
<p>Lovely :) You have just logged in to your Domain.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Steps to change the default admin credentials for Domain Owner are shown below üëá</p>
</div>
<p><a class="reference internal" href="../../_images/01-upload-data-01.gif"><img alt="01-upload-data-01" src="../../_images/01-upload-data-01.gif" style="width: 95%;" /></a></p>
</section>
<section id="step-3-prepare-dataset">
<h3>Step 3: Prepare Dataset<a class="headerlink" href="#step-3-prepare-dataset" title="Permalink to this headline">¬∂</a></h3>
<p>For this tutorial, we will use a simple dataset of four peoples <code class="docutils literal notranslate"><span class="pre">ages</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">:</span>

<span class="c1"># run this cell</span>
<span class="k">try</span><span class="p">:</span>
   <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
   <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;011&#39;</span><span class="p">,</span> <span class="s1">&#39;015&#39;</span><span class="p">,</span> <span class="s1">&#39;022&#39;</span><span class="p">,</span> <span class="s1">&#39;034&#39;</span><span class="p">],</span>
         <span class="s1">&#39;Age&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">]}</span>

   <span class="n">dataset</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Install the latest version of Pandas using the command: !pip install pandas&quot;</span><span class="p">)</span>

<span class="n">Out</span><span class="p">:</span>

<span class="n">ID</span>  <span class="n">Age</span>
<span class="mi">011</span>   <span class="mi">40</span>
<span class="mi">015</span>   <span class="mi">39</span>
<span class="mi">022</span>    <span class="mi">9</span>
<span class="mi">034</span>    <span class="mi">8</span>
</pre></div>
</div>
</section>
<section id="step-4-annotate-data-for-automatic-dp">
<span id="step4"></span><h3>Step 4: Annotate Data for Automatic DP<a class="headerlink" href="#step-4-annotate-data-for-automatic-dp" title="Permalink to this headline">¬∂</a></h3>
<p>Now that we have our dataset, we can begin annotating it with
privacy-specific metadata called Auto DP metadata. Auto DP
metadata allows the PySyft library to protect and adjust the
visibility different Data Scientists will have into any one of
our data subjects. <code class="docutils literal notranslate"><span class="pre">Data</span> <span class="pre">Subjects</span></code> are the entities whose privacy
we want to protect. So, in this case, they are the individual
family members.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to protect the <code class="docutils literal notranslate"><span class="pre">privacy</span></code> of the people within our dataset we
first need to specify who those people are. In this example we have
created a column with unique <code class="docutils literal notranslate"><span class="pre">ID‚Äôs</span></code> for each person in this dataset.</p>
</div>
<section id="important-steps">
<h4>Important steps:<a class="headerlink" href="#important-steps" title="Permalink to this headline">¬∂</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">subjects</span></code> are entities whose privacy we want to protect</p></li>
<li><p>each feature needs to define the appropriate <code class="docutils literal notranslate"><span class="pre">minimum</span></code> and
<code class="docutils literal notranslate"><span class="pre">maximum</span></code> ranges</p></li>
<li><p>when defining min and max values, we are actually defining the
<code class="docutils literal notranslate"><span class="pre">theoretical</span></code> amount of values that could be learned about that
aspect.</p></li>
<li><p>To help obscure the variables someone may learn about these datasets
we then need to set an appropriate <code class="docutils literal notranslate"><span class="pre">lower_bound</span></code> to the <code class="docutils literal notranslate"><span class="pre">lowest</span></code> possible persons age <code class="docutils literal notranslate"><span class="pre">(0)</span></code>,
and the <code class="docutils literal notranslate"><span class="pre">upper_bound</span></code> to the <code class="docutils literal notranslate"><span class="pre">highest</span></code> possible (mostly) persons age <code class="docutils literal notranslate"><span class="pre">(100)</span></code>.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">:</span>

<span class="c1"># run this cell</span>
<span class="n">data_subjects</span> <span class="o">=</span> <span class="n">sy</span><span class="o">.</span><span class="n">DataSubjectArray</span><span class="o">.</span><span class="n">from_objs</span><span class="p">(</span><span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;ID&quot;</span><span class="p">])</span>

<span class="n">age_data</span> <span class="o">=</span> <span class="n">sy</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;Age&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">annotate_with_dp_metadata</span><span class="p">(</span>
   <span class="n">lower_bound</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">data_subjects</span><span class="o">=</span><span class="n">data_subjects</span>
<span class="p">)</span>
</pre></div>
</div>
<blockquote>
<div><p><strong>Note:</strong> If your project has a training set, validation set and test
set, you must annotate each data set with Auto DP metadata.</p>
</div></blockquote>
</section>
</section>
<section id="step-5-upload-the-dataset">
<span id="step5"></span><h3>Step 5: Upload the Dataset<a class="headerlink" href="#step-5-upload-the-dataset" title="Permalink to this headline">¬∂</a></h3>
<p>Once you have prepared your data, it‚Äôs time to upload it to the Domain
node. To help Data Scientists later <code class="docutils literal notranslate"><span class="pre">search</span></code> and <code class="docutils literal notranslate"><span class="pre">discover</span></code> our
datasets, we will add details like a <code class="docutils literal notranslate"><span class="pre">name</span></code> and a <code class="docutils literal notranslate"><span class="pre">description</span></code> of
what this dataset represents.</p>
<blockquote>
<div><p><strong>Note:</strong> If your project has a train, validation and test set, you
need to add them as assets. In this case, it is just our age column.</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>In:

# run this cell
domain_client.load_dataset(
   name=&quot;Family_Age_Dataset&quot;,
   assets={
      &quot;Age_Data&quot;: age_data,
   },
   description=&quot;Our dataset contains the Ages of our four Family members with unique ID&#39;s. There are 2 columns and 4 rows in our dataset.&quot;
)

Out:

Dataset is uploaded successfully !!!
</pre></div>
</div>
</section>
<section id="step-6-check-the-dataset">
<h3>Step 6: Check the Dataset<a class="headerlink" href="#step-6-check-the-dataset" title="Permalink to this headline">¬∂</a></h3>
<p>To <code class="docutils literal notranslate"><span class="pre">check</span></code> the dataset you uploaded to the Domain Node, go ahead and
run the below command, and it will list <code class="docutils literal notranslate"><span class="pre">all</span></code> the datasets on this
Domain with their Names, Descriptions, Assets, and Unique IDs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">:</span>

<span class="c1"># run this cell</span>
<span class="n">domain_client</span><span class="o">.</span><span class="n">datasets</span>
</pre></div>
</div>
</section>
<section id="awesome-you-have-uploaded-the-dataset-onto-your-domain-server">
<h3>Awesome üëè !! You have uploaded the dataset onto your Domain Server!<a class="headerlink" href="#awesome-you-have-uploaded-the-dataset-onto-your-domain-server" title="Permalink to this headline">¬∂</a></h3>
<p>By uploading the dataset onto the Domain Node, Data Owners are opening
up the possibilities of different Data Scientists being able to study it
without downloading it and without the Data Owners doing any
experiment-specific work while Data Scientists are studying their
private data.</p>
</section>
</section>
<section id="whats-next">
<h2>What‚Äôs Next?<a class="headerlink" href="#whats-next" title="Permalink to this headline">¬∂</a></h2>
<p>Alright, so we have walked through <a class="reference internal" href="00-deploy-domain.html"><span class="doc">How to deploy a
Domain Node</span></a> and <a class="reference internal" href="#"><span class="doc">How to prepare and upload a dataset to that Domain
Node</span></a> so that Data Scientists can study our datasets without being
able to download them.</p>
<blockquote>
<div><p>In the following tutorial, we will see how Data Scientists can find
datasets and work across all the different Domain nodes.</p>
</div></blockquote>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, Openmined Community.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>